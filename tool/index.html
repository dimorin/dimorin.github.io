<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>프론트엔드 환경 구축 | DIMORIN BLOG</title>
    <meta name="description" content="study study">
    
    
    <link rel="preload" href="/assets/css/0.styles.93a325d7.css" as="style"><link rel="preload" href="/assets/js/app.fad08b44.js" as="script"><link rel="preload" href="/assets/js/34.d975e645.js" as="script"><link rel="prefetch" href="/assets/js/10.74f666ad.js"><link rel="prefetch" href="/assets/js/11.6b8a05b9.js"><link rel="prefetch" href="/assets/js/12.fa156fee.js"><link rel="prefetch" href="/assets/js/13.527367b9.js"><link rel="prefetch" href="/assets/js/14.fa4e7227.js"><link rel="prefetch" href="/assets/js/15.5595fdef.js"><link rel="prefetch" href="/assets/js/16.a75f793b.js"><link rel="prefetch" href="/assets/js/17.a3c4fd35.js"><link rel="prefetch" href="/assets/js/18.60c404b4.js"><link rel="prefetch" href="/assets/js/19.23d295eb.js"><link rel="prefetch" href="/assets/js/2.d80a531b.js"><link rel="prefetch" href="/assets/js/20.41c168c0.js"><link rel="prefetch" href="/assets/js/21.5a2de49f.js"><link rel="prefetch" href="/assets/js/22.14157b97.js"><link rel="prefetch" href="/assets/js/23.39b3f256.js"><link rel="prefetch" href="/assets/js/24.0d3e5a92.js"><link rel="prefetch" href="/assets/js/25.e68ee1e3.js"><link rel="prefetch" href="/assets/js/26.f71b05f9.js"><link rel="prefetch" href="/assets/js/27.66ba9ef5.js"><link rel="prefetch" href="/assets/js/28.5e830823.js"><link rel="prefetch" href="/assets/js/29.7ab430ad.js"><link rel="prefetch" href="/assets/js/3.85f1e40d.js"><link rel="prefetch" href="/assets/js/30.48c163b8.js"><link rel="prefetch" href="/assets/js/31.68b5027e.js"><link rel="prefetch" href="/assets/js/32.606aca05.js"><link rel="prefetch" href="/assets/js/33.50a55636.js"><link rel="prefetch" href="/assets/js/35.68778a90.js"><link rel="prefetch" href="/assets/js/36.b0acade4.js"><link rel="prefetch" href="/assets/js/37.c0a4b5f7.js"><link rel="prefetch" href="/assets/js/38.1f5e5ceb.js"><link rel="prefetch" href="/assets/js/39.b1737324.js"><link rel="prefetch" href="/assets/js/4.77bd5cf5.js"><link rel="prefetch" href="/assets/js/40.b3046a9d.js"><link rel="prefetch" href="/assets/js/41.4f9c58fe.js"><link rel="prefetch" href="/assets/js/42.52df2078.js"><link rel="prefetch" href="/assets/js/43.5e43be4f.js"><link rel="prefetch" href="/assets/js/44.b9c647a3.js"><link rel="prefetch" href="/assets/js/45.e7e43eb5.js"><link rel="prefetch" href="/assets/js/46.71f00a9a.js"><link rel="prefetch" href="/assets/js/47.df67c5ca.js"><link rel="prefetch" href="/assets/js/48.e69bd965.js"><link rel="prefetch" href="/assets/js/49.0f16f5a5.js"><link rel="prefetch" href="/assets/js/5.6e1f6202.js"><link rel="prefetch" href="/assets/js/50.ac5c3968.js"><link rel="prefetch" href="/assets/js/51.071a2250.js"><link rel="prefetch" href="/assets/js/52.96c0ecd8.js"><link rel="prefetch" href="/assets/js/6.a1e0dbf3.js"><link rel="prefetch" href="/assets/js/7.c5e0407d.js"><link rel="prefetch" href="/assets/js/8.1730c26e.js"><link rel="prefetch" href="/assets/js/9.92e0dcc7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93a325d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DIMORIN BLOG</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/es6/" class="nav-link">ES6</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-exact-active router-link-active">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/es6/" class="nav-link">ES6</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link router-link-exact-active router-link-active">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/tool/" class="active sidebar-link">프론트엔드 환경 구축</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tool/#directory-tree" class="sidebar-link">Directory Tree</a></li><li class="sidebar-sub-header"><a href="/tool/#_1-webpack-설치" class="sidebar-link">1. webpack 설치</a></li><li class="sidebar-sub-header"><a href="/tool/#_2-프로젝트-파일-생성" class="sidebar-link">2. 프로젝트 파일 생성</a></li><li class="sidebar-sub-header"><a href="/tool/#_3-플러그인-설치" class="sidebar-link">3. 플러그인 설치</a></li><li class="sidebar-sub-header"><a href="/tool/#_4-webpack-config-js-파일-생성" class="sidebar-link">4. webpack.config.js 파일 생성</a></li><li class="sidebar-sub-header"><a href="/tool/#_5-npm-script-생성-package-json-수정" class="sidebar-link">5. npm script 생성 - package.json 수정</a></li><li class="sidebar-sub-header"><a href="/tool/#_6-파일-번들링-webpack-module-사용" class="sidebar-link">6. 파일 번들링 - Webpack Module  사용</a></li><li class="sidebar-sub-header"><a href="/tool/#_7-static-asset-사용-copy-webpack-plugin" class="sidebar-link">7. Static Asset 사용 copy-webpack-plugin</a></li><li class="sidebar-sub-header"><a href="/tool/#_8-빌드-환경-구성" class="sidebar-link">8. 빌드 환경 구성</a></li><li class="sidebar-sub-header"><a href="/tool/#_9-clean-webpack-plugin-사용" class="sidebar-link">9. Clean webpack plugin 사용</a></li><li class="sidebar-sub-header"><a href="/tool/#_10-webpack-merge-사용" class="sidebar-link">10. Webpack merge 사용</a></li></ul></li><li><a href="/tool/designpattern.html" class="sidebar-link">디자인 패턴</a></li><li><a href="/tool/npm.html" class="sidebar-link">npm</a></li><li><a href="/tool/sass.html" class="sidebar-link">SASS</a></li><li><a href="/tool/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/tool/firebase.html" class="sidebar-link">Firebase</a></li><li><a href="/tool/git.html" class="sidebar-link">git</a></li><li><a href="/tool/nodejs.html" class="sidebar-link">Node.js</a></li><li><a href="/tool/gulp.html" class="sidebar-link">gulp</a></li><li><a href="/tool/eventloop.html" class="sidebar-link">event loop</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="프론트엔드-환경-구축"><a href="#프론트엔드-환경-구축" aria-hidden="true" class="header-anchor">#</a> 프론트엔드 환경 구축</h1> <h3 id="node-js-환경에서-eslint-webpack-webpack-dev-server의-hmr을-이용해서-개발하기"><a href="#node-js-환경에서-eslint-webpack-webpack-dev-server의-hmr을-이용해서-개발하기" aria-hidden="true" class="header-anchor">#</a> Node.js  환경에서 ESLint, Webpack, Webpack-dev-server의 HMR을 이용해서 개발하기</h3> <blockquote><p>출처<br> <a href="https://noooop.tistory.com/entry/Webpack-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%951" target="_blank" rel="noopener noreferrer">webpack 개발환경구축1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://noooop.tistory.com/entry/Webpack-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%952" target="_blank" rel="noopener noreferrer">webpack 개발환경구축2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://noooop.tistory.com/entry/Webpack-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EB%B9%8C%EB%93%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%951?category=998451" target="_blank" rel="noopener noreferrer">webpack 빌드환경 구축1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://noooop.tistory.com/entry/webpack-2?category=998451" target="_blank" rel="noopener noreferrer">webpack 빌드환경 구축2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://parksb.github.io/article/0.html" target="_blank" rel="noopener noreferrer">프론트엔드 개발자를 위한 토막상식 by 박성범<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://poiemaweb.com/es6-babel-webpack-1" target="_blank" rel="noopener noreferrer">babel과 webpack을 이용한 es6 환경구축<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://jeonghwan-kim.github.io/series/2019/12/09/frontend-dev-env-npm.html" target="_blank" rel="noopener noreferrer">프론트엔드 개발환경의 이해 by 김정환<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br></p></blockquote> <h2 id="directory-tree"><a href="#directory-tree" aria-hidden="true" class="header-anchor">#</a> Directory Tree</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>\
\node_modules       // 노드 모듈
\src                // 개발중인 js 파일 이미지 등이 저장될 곳
    index.js        // 메인 javascript 파일
\static             // 정적 HTML에서 사용할 자료<span class="token punctuation">(</span>assets<span class="token punctuation">)</span>들이 저장될 위치
index.html          // 웹엡의 메인 페이지
package.json
webpack.config.js
</code></pre></div><h2 id="_1-webpack-설치"><a href="#_1-webpack-설치" aria-hidden="true" class="header-anchor">#</a> 1. webpack 설치</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> webpack-demo <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> webpack-demo
<span class="token function">npm</span> init -y
<span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli webpack-dev-server --save-dev
</code></pre></div><p><strong>webpack</strong><br>
코어 모듈</p> <p><strong>webpack-cli</strong><br>
커맨드 라인을 통해 웹팩을 제어할 수 있도록 해주는 모듈
사실상 마지막 결과물을 빌드할 때 사용된다.</p> <p><strong>webpack-dev-server</strong><br>
웹팩을 이용한 빌드 결과물을 Node.js의 웹서버를 이용해 마치 웹 서비스에서 작동되는 것처럼 웹 브라우저에서 접근할 수 있도록 한다. 개발도중 개발 디버깅 등 다양한 개발에 편한 환경을 제공한다.
개발 도중에 사용된다.</p> <h2 id="_2-프로젝트-파일-생성"><a href="#_2-프로젝트-파일-생성" aria-hidden="true" class="header-anchor">#</a> 2. 프로젝트 파일 생성</h2> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token doctype">&lt;!doctype html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Webpack Test Project<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* src/index.js */</span>
<span class="token keyword">function</span> <span class="token function">writecom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Hello Webpack'</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">writecom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-플러그인-설치"><a href="#_3-플러그인-설치" aria-hidden="true" class="header-anchor">#</a> 3. 플러그인 설치</h2> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> html-webpack-plugin -D
</code></pre></div><p><strong>html-webpack-plugin</strong><br>
Webpack으로 생성된 JS 파일을 index.html 파일 같은 HTML 파일에 삽입하는 <code>&lt;script src=&quot;index.js&quot;&gt;</code> 형태 태그를 자동으로 만들어 줍니다.<br>
그렇기 때문에 위에 index.html 파일에 JS 파일을 불러오는 <code>&lt;script&gt;</code> 태그가 없었던 것 입니다.<br><br>
HTML에 한 두줄 추가 하면 되는 걸 html-webpack-plugin을 사용하는 이유는 복잡한 프로젝트를 사용하다 보면 단순히 하나의 JS 파일을 생성하는 것이 아니라 여러개의 JS 파일을 생성해야 합니다.<br>
더구나 그 출력파일은 이름 중복을 피하기 위해서 hash 값을 이름으로 지정하는 경우가 있기 때문에.. 직접 추가하는 태그를 작성하기 불가능합니다.</p> <h2 id="_4-webpack-config-js-파일-생성"><a href="#_4-webpack-config-js-파일-생성" aria-hidden="true" class="header-anchor">#</a> 4. webpack.config.js 파일 생성</h2> <p>Webpack을 사용하기 위해서는 우선 여러가지 설정을 지정할 파일이 있어야 하는데, 기본 설정 파일의 이름은 Webpack.config.js입니다.<br>
프로젝트 root에 이 파일이 있고 webpack 실행시 별도 설정 파일을 지정하지 않으면 이 파일을 기본 설정 파일로 자동으로 인식합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* webpack.config.js */</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token punctuation">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>entry</strong><br>
Webpack에서 번들링할 JS 파일을 지정합니다.<br>
번들링할 파일을 여러개 지정할 수 있는데, 여기서는 app 이라는 이름에 index.js를 지정했습니다.<br>
여러개의 JS  파일을 번들링 할 경우 <code>app : 'index.js', print: 'print.js'</code> 이런 형태로 지정할 수 있습니다.<br>
이때 app 이름의 번들링 대상은 index.js, print  이름의 번들링 대상은 print.js  입니다.</p> <p><strong>plugins</strong><br>
Webpack에서 사용할 플러그인을 지정하고 그 설정합니다.<br>
filename - html-webpack-pluing이 생성할 파일 이름을 지정합니다.<br> <code>tempate - &lt;script&gt;</code> 태그를 집어 넣을 원본 파일을 지정합니다. 지정이 없으면 기본적 형태로 HTML  파일을 자동으로 생성합니다.<br> <code>inject - &lt;script&gt;</code> 태그를 삽입할지, 삽입 한다면 어느 태그 아래(<code>&lt;body&gt;</code>|<code>&lt;head&gt;</code>) 집어 넣을지 설정할 수 있는데, 더 자세한 내용이 필요하면 깃허브 페이지를 참조하세요<br>
HotModuleReplacementPluing 은 웹팩에서 번들링한 파일이 수정되면 그 것을 감지해서 즉시 즉시 반영해주는 플러그인입니다.<br>
워낙 유명하고 항상 사용되는 것이다 보니 Webpack자체에 내장 된거 같습니다.<br>
이 플러그인을 사용할 때 별도로 설정할 필요는 없지만, Webpack-dev-server 설정에 'hot: true' 값을 지정해야 합니다.</p> <p><strong>output</strong>
path는 번들링 대상이 저장될 경로입니다.<br>
여기서는  undefind 로 지정했는데, 이렇게 되면 webpack은 번들링된 파일을 생성하지 않습니다.<br>
대신에 메모리 상에는 번들링된 파일이 있고 webpack-dev-server는 메모리상에 번들링된 파일로 작동합니다.<br>
Webpack-dev-server를 사용할때는 아직 개발 중일테니 실제 파일을 생성할 필요가 없다고 생각했고 제가 사용하는 Webpack 설정의 기본 컨셉은 빌드 전까지 번들링된 파일을 생성하지 않는 것입니다.<br>
filename은 번들링 되서 생성되는 JS 파일 이름을 지정합니다. 여기서는 [name].js로 되어 있는데, 앞에 entry에서 app 이라는 이름으로 index.js를 지정했기 때문에 번들링 된 파일의 이름은 app.js 입니다.</p> <h2 id="_5-npm-script-생성-package-json-수정"><a href="#_5-npm-script-생성-package-json-수정" aria-hidden="true" class="header-anchor">#</a> 5. npm script 생성 - package.json 수정</h2> <p>webpack config 파일을 생성했으면 package.json을 수정해서 npm script를 만들도록 합니다.</p> <div class="language-json extra-class"><pre class="language-json"><code>/* package.json */
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Test&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.24.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.1.10&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>scripts 항목을 수정하고 <code>npm run dev</code> 를 실행합니다.<br>
웹페이지에 localhost:8080 접속하면 웹페이지에 출력 내용을 볼 수 있습니다.<br>
index.html 에 index.js가 삽입되어, 페이지에 Hello world라는 글이 나타난 것이 확인됩니다.<br>
F12버튼을 눌러 개발자 모드를 활성화하여 html 파일의 내용을 보면 직접 입력하지 않은 <code>&lt;script&gt;</code> 태그가 html-webpack-plugin을 통해 생성되었고,
번들링 된 JS 파일의 이름이 app.js 인 것을 확인할 수 있습니다.여기에는 없지만 app.js와 index.js를 클릭해보면 파일 내용을 확인할 수 있습니다.</p> <hr> <hr> <p><strong>&lt;- Webpack, Webpack-dev-server를 최소한 돌아 가게 하는 과정</strong></p> <hr> <p><strong>-&gt; Module을 통해 css와 img 파일을 번들링, Static assets 사용을 위해 copy-webpack-plugin을 사용하기</strong></p> <hr> <hr> <h2 id="_6-파일-번들링-webpack-module-사용"><a href="#_6-파일-번들링-webpack-module-사용" aria-hidden="true" class="header-anchor">#</a> 6. 파일 번들링 - Webpack Module  사용</h2> <p>javascript나 css 등등의 파일들을 번들링 하기 위해 각 파일의 loader를 webpack에서 module 형태로 사용해야 합니다.<br>
css 파일을 위해 style-loader와 css-loader를 사용하고, 그 외 파일들을 번들링 하기 위해 url-loader를 사용하겠습니다.<br>
구 버전 웹브라우저 혹은 하위 호환성을 위해 babel 사용 필요성이 있다면 Module 부분에 JS 파일을 babel-loader에서 처리 하도록 해주면 됩니다.</p> <h3 id="_6-1-css-loader-및-style-loader"><a href="#_6-1-css-loader-및-style-loader" aria-hidden="true" class="header-anchor">#</a> 6.1. css-loader 및 style-loader</h3> <p>style-loader, css-loader 설치합니다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D style-loader css-loader
</code></pre></div><p><strong>css-loader</strong><br>
CSS 파일을 정리(?) 해주는 역활을 합니다. 공식문서에서는 의존성을 해결한다고 되어 있는데요.  css도 다른 css 파일을 import 하는 경우가 많이 있는데, 예를 들어 a.css 파일 중  b.css 파일의 내용을 import하는 경우 a.css 만 번들링 한다면 오류가 생기겠죠. 이러한 상황을 b.css에 의존성이 있다고 하는데, 이런 import 내용을 정리해주는 일을 합니다.</p> <p><strong>style-loader</strong><br>
css 내용을 html style 태그로 정리해주는 역활을 합니다. 그렇기 때문에 css-loader와 style-loader를 동시에 사용합니다.  조금 더 정확하게는 css-loader -&gt; style-loader 로 처리되게 합니다. 만일 sass를 사용 할 경우 처리 순서는 sass-loader -&gt; css-loader -&gt; style-loader 순서입니다. (sass나 Postcss를 사용하시는 분은 다른 문서를 검색해보세요. 전 디자인적 감각이 없어서 거의 안쓰거든요...) sass-loader가 sass를 해석한 다음 css-loader에게 넘겨주면 css-loader는 그 의존석을 해결하고 다시 style-loader에게 넘겨서 html에 <code>&lt;style&gt;</code> 태그로 삽입한다고 합니다.</p> <h3 id="_6-2-url-loader"><a href="#_6-2-url-loader" aria-hidden="true" class="header-anchor">#</a> 6.2. url-loader</h3> <p>url-loader를 사용하기 위해서는 file-loader 도 같이 설치해 주어야 합니다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D file-loader url-loader
</code></pre></div><p><strong>url-loader</strong><br>
file을 Data URI Scheme 형태로 Javascript 파일 안에 저장합니다.<br>
url-loader에서 파일의 크기가 클 경우 Data URI Scheme 형태로 번들링 하는 것이 극히 안좋기 때문에 일정 크기 이상의 파일은 file-loader 를 이용해 복사 하는 형태로 번들링 합니다.<br>
그렇기 때문에 file-loader를 저희가 설정하지 않더라도, 설치하는 것 입니다.</p> <p><strong>file-loader</strong><br>
file-loader는, Javascript로 import 하는 파일을 복사하는 역활을 합니다. 예를 들어 scr/index.js에서 같은 폴더에 있는 scr/a.png파일을 import 해서 번들링 한 상황을 가정하였을때 번들링 결과물이 저장되는 dist/index.js 에서는 a.png  파일이 없기 때문에 오류가 날 것입니다.</p> <h3 id="_6-3-webpack-config-js-파일-수정"><a href="#_6-3-webpack-config-js-파일-수정" aria-hidden="true" class="header-anchor">#</a> 6.3. webpack.config.js 파일 수정</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token punctuation">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'static/[name].[hash:7].[ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>webpack.config.js 파일에 module 항목을 추가 했습니다.<br>
파일 번들링을 위한 module 설정을 보면, test에 정규 표현식(regex)을 통해 파일을 지정해주면, 그 파일을 처리할 loader를 지정해 주는 방식입니다.<br>
url-loader는 loader 항목으로 지정했는데<br>
style-loader, css-loader는 use 항목으로 지정한 것이 다른 점인데<br>
css 파일을 css-loader -&gt; style-loader 2개의 로더를 거쳐야 하기 때문에 use  항목으로 설정하는 것이라 이해 했습니다.<br>
먼저 처리할 loader를 나중에 써야 한다고 되어 있습니다. css-loader, style-loader 이렇게 작성하면 처리 순서가 반대로 되어서 오류가 난데요. 만일 sass-loader 도 사용한다면 sass-loader를 가장 마지막에 써야겠죠.</p> <h3 id="_6-4-url-loader의-옵션"><a href="#_6-4-url-loader의-옵션" aria-hidden="true" class="header-anchor">#</a> 6.4. url-loader의 옵션</h3> <p>limit은 Base URI sheme로 저장할 최대 파일 크기를 지정합니다 현재 limit(10kb)보다 파일이 크면 file-loader를 이용하여 단순히 파일을 복사합니다.<br>
name은 저장될 파일 이름을 지정합니다. 저는 static  폴더에 [원본이름].[파일해쉬 중 처음 7자리].[확장자] 이렇게 저장했습니다.</p> <h3 id="_6-5-index-js-수정"><a href="#_6-5-index-js-수정" aria-hidden="true" class="header-anchor">#</a> 6.5. index.js 수정</h3> <p>테스트를 위해 그림파일을 삽입해봅니다.<br>
로고 파일을 src 폴더에 넣고 index.js 다음과 같이 수정합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* src/index.js */</span>
<span class="token keyword">import</span> Logo <span class="token keyword">from</span> <span class="token string">'./logo.png'</span>
<span class="token keyword">function</span> <span class="token function">writecom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'Hello Webpack'</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> myLogo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myLogo<span class="token punctuation">.</span>src <span class="token operator">=</span> Logo<span class="token punctuation">;</span>

    element<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>myLogo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">writecom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-6-번들링-테스트"><a href="#_6-6-번들링-테스트" aria-hidden="true" class="header-anchor">#</a> 6.6. 번들링 테스트</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre></div><h2 id="_7-static-asset-사용-copy-webpack-plugin"><a href="#_7-static-asset-사용-copy-webpack-plugin" aria-hidden="true" class="header-anchor">#</a> 7. Static Asset 사용 copy-webpack-plugin</h2> <div class="language-bash extra-class"><pre class="language-bash"><code>\
\node_modules       // 노드 모듈
\src                // 개발중인 js 파일 이미지 등이 저장될 곳
    index.js        // 메인 javascript 파일
\static             // 정적 HTML에서 사용할 자료<span class="token punctuation">(</span>assets<span class="token punctuation">)</span>들이 저장될 위치
    .png, .css
index.html          // 웹엡의 메인 페이지
package.json
webpack.config.js
</code></pre></div><p>static 폴더에 각종 파일을 넣어 이대로 빌딩하면 static 폴더의 내용을 webpack이 읽지 못하기 때문에<br>
static 폴더의 내용을 그대로 복사해서 webpack에 넣어주거나,<br>
빌딩 결과 폴더에 넣어줄 플로그인을 사용해야하는데, 그 플러그인이 copy-webpack-plugin 입니다.</p> <h3 id="_7-1-index-html에-static-asset-추가"><a href="#_7-1-index-html에-static-asset-추가" aria-hidden="true" class="header-anchor">#</a> 7.1. index.html에 Static Asset 추가</h3> <p>static폴더에 img.png 파일을 넣습니다.<br>
index.html파일을 다음과 같이 수정합니다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!doctype html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Webpack Test Project<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>static/img.png<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre></div><p>img.png를 읽어 오지 못한 것을 확인합니다.<br>
webpack-dev-server는 메모리에 저장된 번들링 파일을 읽어서 웹페이지를 나타낸다고 했는데,<br>
static 폴더의 내용은 webpack에서 읽은 적이 없기 때문에 현재 웹 브라우저에서 파일이 없다고 나타나는 것입니다.<br>
그렇다고 static 폴더의 내용을 loader로 따로 번들링하기는 복잡하고 단순히 복사만 하면 되기 때문에 copy-webpack-plugin을 사용합니다.</p> <h3 id="_7-2-copy-webpack-plugin-설치-및-설정"><a href="#_7-2-copy-webpack-plugin-설치-및-설정" aria-hidden="true" class="header-anchor">#</a> 7.2. copy-webpack-plugin 설치 및 설정</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D copy-webpack-plugin
</code></pre></div><p>webpack.config.js 에서 copy-webpack-plugin을 설정합니다.<br>
상단에 아래 내용 추가</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span>
</code></pre></div><p>플러그인 항목에 copy-webpaack-plugin을 추가합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
        to<span class="token punctuation">:</span> <span class="token string">'static'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>from: 에 지정된 폴더의 파일들을 to: 위치로 복사하도록 설정합니다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run dev
</code></pre></div><h2 id="_8-빌드-환경-구성"><a href="#_8-빌드-환경-구성" aria-hidden="true" class="header-anchor">#</a> 8. 빌드 환경 구성</h2> <h3 id="_8-1-빌드-환경을-위한-webpack-prod-js-파일-생성"><a href="#_8-1-빌드-환경을-위한-webpack-prod-js-파일-생성" aria-hidden="true" class="header-anchor">#</a> 8.1. 빌드 환경을 위한 webpack.prod.js 파일 생성</h3> <p>Webpack.config.js 파일을 그대로 복사한 다음, 개발을 위한 webpack-dev-server라던지 기타 설정 부분을 제외하고, 빌드 결과물이 출력 될 폴더를 지정합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* webpack.prod.js */</span>

<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 삭제 const webpack = require(&quot;webpack&quot;); */</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* 삭제 devtool: &quot;cheap-module-eval-source-map&quot;, */</span>
  <span class="token comment">/* 삭제 devServer: {
    contentBase: false,
    hot: true
  }, */</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/* 삭제 new webpack.HotModuleReplacementPlugin(), */</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
          to<span class="token punctuation">:</span> <span class="token string">'static'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">/* 변경 undefined, */</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'static/[name].[hash:7].[ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>빌드 환경에서는 HMR을 사용하지 않아 삭제합니다.<br>
devtool은 브라우저 디버깅을 위해 devtool(브라우저 개발 도구)에 source-map 출력을 하기 위한 부분이나 빌드 환경에서는 더이상 디버깅을 할 필요가 없으니 삭제합니다.<br>
devServer는 webpack-dev-server의 환경 설정을 위한 부분입니다. 빌드 환경에서는 사용하지 않으니 삭제합니다.<br>
webpack.config.js에서는 path를 undefined 로 설정했지만, 이제 빌드 결과물을 출력해야 하니 출력할 폴더를 지정합니다.<br>
path 환경 설정값은 절대 경로로 입력해야 하기 때문에 path를 이용해서 현재 webpack이 수행되는 폴더(__dirname)의 하위 폴더 dist를 지정했습니다.</p> <h3 id="_8-2-npm-yarn-script-수정-package-json-수정"><a href="#_8-2-npm-yarn-script-수정-package-json-수정" aria-hidden="true" class="header-anchor">#</a> 8.2. npm(yarn) script 수정 - package.json 수정</h3> <div class="language-json extra-class"><pre class="language-json"><code>/* package.json */
<span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.prod.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;copy-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;file-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;style-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.23.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;url-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.29.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&quot;build&quot; : &quot;webpack --config webpack.prod.js&quot; 한줄 추가 했습니다. 이제 빌드 파일만 생성하면 되니, webpack-dev-server를 사용할 필요가 없습니다.<br>
webpack의 기본 설정 파일은 webpack.config.js이기 때문에 webpack에  --config 옵션으로 빌드 설정 파일인 webpack.prod.js를 지정합니다.</p> <h3 id="_8-3-첫번째-빌드"><a href="#_8-3-첫번째-빌드" aria-hidden="true" class="header-anchor">#</a> 8.3. 첫번째 빌드</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> run build
</code></pre></div><p>dist 폴더에 빌드 결과물이 생성된 것이 확인됩니다.</p> <h2 id="_9-clean-webpack-plugin-사용"><a href="#_9-clean-webpack-plugin-사용" aria-hidden="true" class="header-anchor">#</a> 9. Clean webpack plugin 사용</h2> <p>처음 dist 폴더에 빌드하고 난 다음 다시빌드를 하면 , 이전 빌드된 결과물 중 새로 빌드되는 파일들을 덮어 씌워지게 됩니다.<br>
하지만 원본이 삭제되는 등의 이유로 다시 빌드가 되지 않는 파일들이 있다면 dist 폴더에 남아 있게 되죠.<br>
적은 가능성이기는 하지만 차후 보안 위험이 될 수 도 있습니다. 또 그냥 안쓰는 파일이 빌드 폴더에 남아 있는게 찝찝해서 이전에 빌드한 결과물을 삭제하는 플러그인이 clean webpack plugin 입니다.</p> <h3 id="_9-1-clean-webpack-plugin-설치"><a href="#_9-1-clean-webpack-plugin-설치" aria-hidden="true" class="header-anchor">#</a> 9.1. Clean webpack plugin 설치</h3> <p>clean-webpack-plugin을 설치 하고 설정에 추가 하면 됩니다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D clean-webpack-plugin
</code></pre></div><h4 id="webpack-config-js-webpack-prod-js-수정"><a href="#webpack-config-js-webpack-prod-js-수정" aria-hidden="true" class="header-anchor">#</a> Webpack.config.js(webpack.prod.js) 수정</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// plugin 항목 아래 삽입</span>
<span class="token punctuation">{</span>
  plugin<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">/* everything under &lt;PROJECT_DIR&gt;/dist/ will be removed. */</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-webpack-merge-사용"><a href="#_10-webpack-merge-사용" aria-hidden="true" class="header-anchor">#</a> 10. Webpack merge 사용</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* webpack.config.js */</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token punctuation">:</span> <span class="token string">&quot;cheap-module-eval-source-map&quot;</span><span class="token punctuation">,</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
          to<span class="token punctuation">:</span> <span class="token string">'static'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'static/[name].[hash:7].[ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">/* webpack.prod.js */</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* 삭제 const webpack = require(&quot;webpack&quot;); */</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/* 삭제 devtool: &quot;cheap-module-eval-source-map&quot;, */</span>
  <span class="token comment">/* 삭제 devServer: {
    contentBase: false,
    hot: true
  }, */</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">/* everything under &lt;PROJECT_DIR&gt;/dist/ will be removed. */</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">/* 삭제 new webpack.HotModuleReplacementPlugin(), */</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
          to<span class="token punctuation">:</span> <span class="token string">'static'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">/* 변경 undefined, */</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'static/[name].[hash:7].[ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>두 파일을 비교해 보면, 개발과 빌드 환경에서 차이는,<br>
Wepack-dev-server와 Webpack-cli 사용 때문에 devServer 설정을 위한 부분과<br>
빌드한 파일을 저장하는 부분만 차이날 뿐 상당히 많은 부분이 동일한 내용으로 작성된 것을 알 수 있습니다.<br>
사실 간단한 내용만 설정하여 webpack에서 많은 종류의 loader나 plugin을 사용하지 않았기 때문에 이 이정도 이지, 만약 더 많은 loader와 Plugin을 사용했다면 webpack 설정 파일의 내용에 중복되는 설정의 내용이 더 많아 질 것 입니다.<br><br>
공통되는 부분을 webpack.common.js 파일로 만들고, 빌드에 필요한 설정만 wepback.prod.js, 개발에 필요한 설정만 webpack.dev.js 파일로 만들기로 했습니다.<br>
그리고 개발 할때는 webpack.dev.js 파일과 webpack.common.js  파일을 사용하고<br>
빌드 할때는 webpack.prod.js 파일과 webpack.common.js 사용하기로 했습니다.<br>
그렇다면, 2개의 webpack 설정 파일을 병합 해주는 도구가 필요한데, 그 때 사용하는 플러그인이 <strong>webpack merge</strong>입니다.</p> <h3 id="_10-1-webpack-merge-설치"><a href="#_10-1-webpack-merge-설치" aria-hidden="true" class="header-anchor">#</a> 10.1. webpack merge 설치</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D webpack-merge
</code></pre></div><h3 id="_10-2-webpack-common-js-파일-생성"><a href="#_10-2-webpack-common-js-파일-생성" aria-hidden="true" class="header-anchor">#</a> 10.2. webpack.common.js 파일 생성</h3> <p>webpack.config.js와 webpack.prod.js의 동일한 부분만 복사해서 webpack.common.js 파일을 생성합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'copy-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span>
      inject<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'static'</span><span class="token punctuation">,</span>
        to<span class="token punctuation">:</span> <span class="token string">'static'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|svg|jpg|gif)$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span><span class="token string">'url-loader'</span><span class="token punctuation">,</span>
        options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          name<span class="token punctuation">:</span> <span class="token string">'static/[name].[hash:7].[ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.worker\.js$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">{</span> loader<span class="token punctuation">:</span> <span class="token string">'worker-loader'</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  node<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">:</span> <span class="token string">'empty'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-3-webpack-dev-js-파일-생성"><a href="#_10-3-webpack-dev-js-파일-생성" aria-hidden="true" class="header-anchor">#</a> 10.3. webpack.dev.js 파일 생성</h3> <p>webpack.config.js 이름을 webpack.dev.js 로 변경하고, 기존 webpack.config.js에서 공통 부분을 제외하고 webpack merge를 추가한 설정 파일을 생성합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.common.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    mode<span class="token punctuation">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
    devtool<span class="token punctuation">:</span> <span class="token string">&quot;cheap-eval-source-map&quot;</span><span class="token punctuation">,</span>
    devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        contentBase<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        hot<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token punctuation">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        path<span class="token punctuation">:</span> undefined<span class="token punctuation">,</span>
        filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-4-webpack-prod-js-수정"><a href="#_10-4-webpack-prod-js-수정" aria-hidden="true" class="header-anchor">#</a> 10.4. webpack.prod.js 수정</h3> <p>webpack.prod.js에서 똑같이 공동 설정 부분을 삭제 한 다음 webpack-merge로 병합합니다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.common.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  mode<span class="token punctuation">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_10-5-package-json-수정"><a href="#_10-5-package-json-수정" aria-hidden="true" class="header-anchor">#</a> 10.5. package.json 수정</h3> <p>script 부분을 수정합니다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config webpack.dev.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.prod.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/tool/designpattern.html">
          디자인 패턴
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.fad08b44.js" defer></script><script src="/assets/js/34.d975e645.js" defer></script>
  </body>
</html>
