<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax 43 | DIMORIN BLOG</title>
    <meta name="description" content="study study">
    
    
    <link rel="preload" href="/assets/css/0.styles.93a325d7.css" as="style"><link rel="preload" href="/assets/js/app.4abe6d66.js" as="script"><link rel="preload" href="/assets/js/11.55256d47.js" as="script"><link rel="prefetch" href="/assets/js/10.92d3e5b8.js"><link rel="prefetch" href="/assets/js/12.701e2a2e.js"><link rel="prefetch" href="/assets/js/13.c63432d7.js"><link rel="prefetch" href="/assets/js/14.553ee319.js"><link rel="prefetch" href="/assets/js/15.b0fa8f2e.js"><link rel="prefetch" href="/assets/js/16.6c35d725.js"><link rel="prefetch" href="/assets/js/17.e3640505.js"><link rel="prefetch" href="/assets/js/18.8bb05d18.js"><link rel="prefetch" href="/assets/js/19.1a1ad1ec.js"><link rel="prefetch" href="/assets/js/2.7974f97d.js"><link rel="prefetch" href="/assets/js/20.fd6b54d6.js"><link rel="prefetch" href="/assets/js/21.5d752f1d.js"><link rel="prefetch" href="/assets/js/22.406201bf.js"><link rel="prefetch" href="/assets/js/23.912b0755.js"><link rel="prefetch" href="/assets/js/24.ec2e78b5.js"><link rel="prefetch" href="/assets/js/25.54b89645.js"><link rel="prefetch" href="/assets/js/26.4352f49d.js"><link rel="prefetch" href="/assets/js/27.35d1a11d.js"><link rel="prefetch" href="/assets/js/28.4ad29b15.js"><link rel="prefetch" href="/assets/js/29.dee70dae.js"><link rel="prefetch" href="/assets/js/3.bfaaf056.js"><link rel="prefetch" href="/assets/js/30.fb3edf4c.js"><link rel="prefetch" href="/assets/js/31.73660f90.js"><link rel="prefetch" href="/assets/js/32.1fb972a0.js"><link rel="prefetch" href="/assets/js/33.5e889f2c.js"><link rel="prefetch" href="/assets/js/34.16b5dc8c.js"><link rel="prefetch" href="/assets/js/35.082176ea.js"><link rel="prefetch" href="/assets/js/36.23c12bbd.js"><link rel="prefetch" href="/assets/js/37.999bd571.js"><link rel="prefetch" href="/assets/js/38.fa254694.js"><link rel="prefetch" href="/assets/js/39.6b49c745.js"><link rel="prefetch" href="/assets/js/4.c0a93a24.js"><link rel="prefetch" href="/assets/js/40.d7336da2.js"><link rel="prefetch" href="/assets/js/41.dfa3a2b9.js"><link rel="prefetch" href="/assets/js/42.9f40af64.js"><link rel="prefetch" href="/assets/js/43.c3948f81.js"><link rel="prefetch" href="/assets/js/44.a0511522.js"><link rel="prefetch" href="/assets/js/45.a8fd4a0a.js"><link rel="prefetch" href="/assets/js/46.558ed2c1.js"><link rel="prefetch" href="/assets/js/47.ac8448ea.js"><link rel="prefetch" href="/assets/js/48.2b8f5350.js"><link rel="prefetch" href="/assets/js/49.fe4bfde9.js"><link rel="prefetch" href="/assets/js/5.9a667794.js"><link rel="prefetch" href="/assets/js/50.39f6a63b.js"><link rel="prefetch" href="/assets/js/51.e7f4f9c3.js"><link rel="prefetch" href="/assets/js/52.549fa45d.js"><link rel="prefetch" href="/assets/js/53.34e61d29.js"><link rel="prefetch" href="/assets/js/54.d7f211a4.js"><link rel="prefetch" href="/assets/js/55.e495eded.js"><link rel="prefetch" href="/assets/js/56.34a178df.js"><link rel="prefetch" href="/assets/js/57.b179623f.js"><link rel="prefetch" href="/assets/js/58.7d9f2e69.js"><link rel="prefetch" href="/assets/js/59.a76fa9dd.js"><link rel="prefetch" href="/assets/js/6.5871f1c8.js"><link rel="prefetch" href="/assets/js/60.337fc878.js"><link rel="prefetch" href="/assets/js/61.7252731f.js"><link rel="prefetch" href="/assets/js/62.2a71d5fb.js"><link rel="prefetch" href="/assets/js/63.28b1a68c.js"><link rel="prefetch" href="/assets/js/64.0865ff86.js"><link rel="prefetch" href="/assets/js/65.3c2d12fa.js"><link rel="prefetch" href="/assets/js/66.efc2b2f2.js"><link rel="prefetch" href="/assets/js/7.312a3680.js"><link rel="prefetch" href="/assets/js/8.fca20ce1.js"><link rel="prefetch" href="/assets/js/9.449ccc19.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93a325d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DIMORIN BLOG</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/" class="sidebar-link">ECMAScript6</a></li><li><a href="/js/let.html" class="sidebar-link">let, const와 블록 레벨 스코프</a></li><li><a href="/js/templateliteral.html" class="sidebar-link">템플릿 리터럴</a></li><li><a href="/js/arrow.html" class="sidebar-link">화살표 함수</a></li><li><a href="/js/parameter.html" class="sidebar-link">파라미터 기본값, Rest 파라미터, Spread 연산자, Rest/Spread 프로퍼티</a></li><li><a href="/js/enhancedobjectliteral.html" class="sidebar-link">객체 리터럴 프로퍼티 기능 확장</a></li><li><a href="/js/destructuring.html" class="sidebar-link">디스트럭처링</a></li><li><a href="/js/class.html" class="sidebar-link">클래스</a></li><li><a href="/js/symbol.html" class="sidebar-link">7번째 타입 심볼(Symbol)</a></li><li><a href="/js/forofloop.html" class="sidebar-link">이터레이션과 for...of 문</a></li><li><a href="/js/generator.html" class="sidebar-link">제너레이터</a></li><li><a href="/js/namespace.html" class="sidebar-link">namespace, class, design pattern</a></li><li><a href="/js/firstclassobject.html" class="sidebar-link">함수와 일급 객체 18</a></li><li><a href="/js/prototype.html" class="sidebar-link">프로토타입 19</a></li><li><a href="/js/this.html" class="sidebar-link">this 22</a></li><li><a href="/js/closure.html" class="sidebar-link">클로저 24</a></li><li><a href="/js/array.html" class="sidebar-link">배열 27</a></li><li><a href="/js/string.html" class="sidebar-link">String 32</a></li><li><a href="/js/spread.html" class="sidebar-link">스프레드 문법 35</a></li><li><a href="/js/event.html" class="sidebar-link">이벤트 40</a></li><li><a href="/js/timer.html" class="sidebar-link">타이머 41</a></li><li><a href="/js/ajax.html" class="active sidebar-link">Ajax 43</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/ajax.html#ajax-란" class="sidebar-link">Ajax 란?</a></li><li class="sidebar-sub-header"><a href="/js/ajax.html#json" class="sidebar-link">JSON</a></li><li class="sidebar-sub-header"><a href="/js/ajax.html#xmlhttprequest" class="sidebar-link">XMLHttpRequest</a></li></ul></li><li><a href="/js/rest.html" class="sidebar-link">REST API 44</a></li><li><a href="/js/promise.html" class="sidebar-link">프로미스 45</a></li><li><a href="/js/error.html" class="sidebar-link">에러 처리 47</a></li><li><a href="/js/module.html" class="sidebar-link">모듈 48</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="ajax-43"><a href="#ajax-43" aria-hidden="true" class="header-anchor">#</a> Ajax 43</h1> <h2 id="ajax-란"><a href="#ajax-란" aria-hidden="true" class="header-anchor">#</a> Ajax 란?</h2> <p>자바스크립트를 사용하여 브라우저가 서버에게 비동기 방식으로 데이터를 요청하고, 서버가 응답한 데이터를 수신하여 웹페이지를 동적으로 갱신하는 프로그래밍 방식을 말한다.<br>
Ajax는 브라우저에서 제공하는 Web API 인 XMLHttpRequest 객체를 기반으로 동작한다.<br>
XMLHttpRequest는 HTTP 비동기 통신을 위한 메서드와 프로퍼티를 제공한다.<br></p> <ul><li>변경할 부분을 갱신하는 데 필요한 데이터만 서버로부터 전송받기 때문에 불필요한 데이터 통신이 발생하지 않는다.</li> <li>변경할 필요가 없는 부분은 다시 렌더링하지 않는다. 따라서 화면이 순간적으로 깜박이는 현상이 발생하지 않는다.</li> <li>클라이언트와 서버와의 통신이 비동기 방식으로 동작하기 때문에 서버에게 요청을 보낸 이후 블로킹이 발생하지 않는다.</li></ul> <h2 id="json"><a href="#json" aria-hidden="true" class="header-anchor">#</a> JSON</h2> <p>클라이언트와 서버 간의 HTTP 통신을 위한 텍스트 데이터 포맷이다.<br>
자바스크립트에 종속되지 않는 언어 독립형 데이터 포맷으로, 대부분의 프로그래밍 언어에서 사용할 수 있다.</p> <h3 id="json-표기-방식"><a href="#json-표기-방식" aria-hidden="true" class="header-anchor">#</a> JSON 표기 방식</h3> <p>JSON의 키는 반드시 큰따옴표(작은따옴표 사용 불가)로 묶여야 한다.<br>
문자열은 반드시 큰따옴표(작은따옴표 사용 불가)로 묶여야 한다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Lee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token property">&quot;alive&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;hobby&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;traveling&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tennis&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="json-stringify"><a href="#json-stringify" aria-hidden="true" class="header-anchor">#</a> JSON.stringify</h3> <p>객체를 JSON 포맷의 <strong>문자열로 변환</strong>한다.<br>
클라이언트가 서버로 객체를 전송하려면 객체를 문자열화해야 하는데 이를 <strong>직렬화</strong>라 한다.<br>
JSON.stringify 메서드는 객체뿐만 아니라 배열도 JSON 포맷의 문자열로 변환한다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'Lee'</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    alive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    hobby<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'traveling'</span><span class="token punctuation">,</span> <span class="token string">'tennis'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 객체를 JSON 포맷의 문자열로 변환한다.</span>
<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 객체를 JSON 포맷의 문자열로 변환하면서 들여쓰기 한다.</span>
<span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="json-parse"><a href="#json-parse" aria-hidden="true" class="header-anchor">#</a> JSON.parse</h3> <p>JSON 포맷의 문자열을 <strong>객체로 변환</strong>한다.<br>
문자열을 객체화 하는 것을 <strong>역직렬화</strong>라 한다.<br>
배열의 JSON 문자열 요소도 객체로 변환한다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Lee&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token string">&quot;alive&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;hobby&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;traveling&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tennis&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// JSON 포맷의 문자열을 객체로 변환한다.</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="xmlhttprequest"><a href="#xmlhttprequest" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest</h2> <p>자바스크립트를 사용하여 HTTP 요청을 전송하려면 XMLHttpRequest 객체를 사용한다.<br>
Web API 인 XMLHttpRequest 객체는 HTTP 요청 전송과 HTTP 응답 수신을 위한 다양한 메서드와 프로퍼티를 제공한다.</p> <h3 id="xmlhttprequest-객체-생성"><a href="#xmlhttprequest-객체-생성" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest 객체 생성</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// XMLHttpRequest 객체의 생성</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="xmlhttprequest-객체의-프로퍼티와-메서드"><a href="#xmlhttprequest-객체의-프로퍼티와-메서드" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest 객체의 프로퍼티와 메서드</h3> <h4 id="xmlhttprequest-객체의-프로토타입-프로퍼티"><a href="#xmlhttprequest-객체의-프로토타입-프로퍼티" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest 객체의 프로토타입 프로퍼티</h4> <table><thead><tr><th>프로토타입 프로퍼티</th> <th>설명</th></tr></thead> <tbody><tr><td>readyState</td> <td>HTTP 요청의 현재 상태를 나타내는 정수<br>USET:0<br>OPENED:1<br>HEADERS_RECEIVED:2<br>LOADING:3<br>DONE:4</td></tr> <tr><td>status</td> <td>HTTP 요청에 대한 응답 상태(HTTP 상태 코드)를 나타내는 정수<br>예) 200</td></tr> <tr><td>response</td> <td>HTTP 요청에 대한 응답 몸체</td></tr></tbody></table> <h4 id="xmlhttprequest-객체의-이벤트-핸들러-프로퍼티"><a href="#xmlhttprequest-객체의-이벤트-핸들러-프로퍼티" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest 객체의 이벤트 핸들러 프로퍼티</h4> <table><thead><tr><th>이벤트 핸들러 프로퍼티</th> <th>설명</th></tr></thead> <tbody><tr><td>onreadystatechange</td> <td>readyState 프로퍼티 값이 변경된 경우</td></tr> <tr><td>onload</td> <td>HTTP 요청이 성공적으로 완료한 경우</td></tr></tbody></table> <h4 id="xmlhttprequest-객체의-정적-프로퍼티"><a href="#xmlhttprequest-객체의-정적-프로퍼티" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest 객체의 정적 프로퍼티</h4> <table><thead><tr><th>정적 프로퍼티</th> <th>값</th> <th>설명</th></tr></thead> <tbody><tr><td>UNSENT</td> <td>0</td> <td>open 메서드 호출 이전</td></tr> <tr><td>OPENED</td> <td>1</td> <td>open 메서드 호출 이후</td></tr> <tr><td>HEADERS_RECEIVED</td> <td>2</td> <td>send 메서드 호출 이후</td></tr> <tr><td>LOADING</td> <td>3</td> <td>서버 응답 중(응답 데이터 미완성 상태)</td></tr> <tr><td>DONE</td> <td>4</td> <td>서버 응답 완료</td></tr></tbody></table> <h3 id="http-요청-전송"><a href="#http-요청-전송" aria-hidden="true" class="header-anchor">#</a> HTTP 요청 전송</h3> <ol><li>XMLHttpReques.prototype.open 메서드로 HTTP 요청을 초기화한다.</li> <li>필요에 따라 XMLHttpRequest.prototype.setRequestHeader 메서드로 특정 HTTP 요청의 헤더 값을 설정한다.</li> <li>XMLHttpRequest.prototype.send 메서드로 HTTP 요청을 전송한다.</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// XMLHttpRequest 객체 생성</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 초기화</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 헤더 설정</span>
<span class="token comment">// 클라이언트가 서버로 전송할 데이터의 MIME 타입 지정: json</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 전송</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="xmlhttprequest-prototype-open"><a href="#xmlhttprequest-prototype-open" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest.prototype.open</h4> <p>서버에 전송할 HTTP 요청 초기화한다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token keyword">async</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>매개변수</th> <th>설명</th></tr></thead> <tbody><tr><td>method</td> <td>HTTP 요청 메서드(&quot;GET&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot; 등)</td></tr> <tr><td>url</td> <td>HTTP 요청을 전송할 URL</td></tr> <tr><td>async</td> <td>비동기 요청 여부, 옵션으로 기본값은 true이며, 비동기 방식으로 동작한다.</td></tr></tbody></table> <p>HTTP 요청 메서드는 클라이언트가 서버에게 요청의 종류와 목적(리소스에 대한 행위)를 알리는 방법이다.</p> <table><thead><tr><th>HTTP 요청 메서드</th> <th>종류</th> <th>목적</th> <th>페이로드</th></tr></thead> <tbody><tr><td>GET</td> <td>index/retrieve/모든/특정</td> <td>리소스 취득</td> <td>X</td></tr> <tr><td>POST</td> <td>create</td> <td>리소스 생성</td> <td>O</td></tr> <tr><td>PUT</td> <td>replace</td> <td>리소스 전체 교체</td> <td>O</td></tr> <tr><td>PATCH</td> <td>modify</td> <td>리소스 일부 수정</td> <td>O</td></tr> <tr><td>DELETE</td> <td>delete</td> <td>모든/특정 리소스 삭제</td> <td>X</td></tr></tbody></table> <h4 id="xmlhttprequest-prototype-send"><a href="#xmlhttprequest-prototype-send" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest.prototype.send</h4> <ul><li>GET 요청 메서드의 경우 데이터를 URL의 일부분인 쿼리 문자열로 서버에 전송한다.</li> <li>POST 요청 메서드의 경우 데이터(페이로드)를 요청 몸체에 담아 전송한다.<br> <strong>HTTP 요청 메서드가 GET 인 경우, send 메서드에 페이로드로 전달한 인수는 무시되고 요청 몸체는 null로 설정된다.</strong></li></ul> <h4 id="xmlhttprequest-prototype-setrequestheader"><a href="#xmlhttprequest-prototype-setrequestheader" aria-hidden="true" class="header-anchor">#</a> XMLHttpRequest.prototype.setRequestHeader</h4> <p>특정 HTTP 요청의 헤더 값을 설정한다.<br>
setRequestHeader 메서드는 반드시 open 메서드를 호출한 이후에 호출해야 한다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 요청 몸체에 담아 서버로 전송할 페이로드의 MIME 타입을 지정하는 예</span>

<span class="token comment">// XMLHttpRequest 객체 생성</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 초기화</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'/users'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 헤더 설정</span>
<span class="token comment">// 클라이언트가 서버로 전송할 데이터의 MIME 타입 지정: json</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 전송</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>content<span class="token punctuation">:</span><span class="token string">'HTML'</span><span class="token punctuation">,</span> complted<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 서버가 응답할 데이터의 MIME 타입 지정: json</span>
xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'accept'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="http-응답-처리"><a href="#http-응답-처리" aria-hidden="true" class="header-anchor">#</a> HTTP 응답 처리</h3> <p>서버가 전송한 응답을 처리하려면 XMLHttpRequest 객체가 발생시키는 이벤트를 캐치해야 한다.<br>
HTTP 요청의 현재 상태를 나타내는 readyState 프로퍼티 값이 변경된 경우 발생하는 readystatechange 이벤트를 캐치하여 HTTP 응답을 처리할 수 있다.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// XMLHttpRequest 객체 생성</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 초기화</span>
<span class="token comment">// https://jsonplaceholder.typicode.com : Fake REST API를 제공하는 서비스</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'https://jsonplaceholder.typicode.com/todos/1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 전송</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// readystatechange 이벤트는 HTTP 요청의 현재 상태를 나타내는 readyState 프로퍼티 값이 변경될 때마다 발생한다.</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">!==</span> XMLHttpRequest<span class="token punctuation">.</span><span class="token constant">DONE</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// XMLHttpRequest 객체 생성</span>
<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 초기화</span>
<span class="token comment">// https://jsonplaceholder.typicode.com : Fake REST API를 제공하는 서비스</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'https://jsonplaceholder.typicode.com/todos/1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// HTTP 요청 전송</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// load 이벤트는 HTTP 요청이 성공적으로 완료된 경우 발생한다.</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/js/timer.html" class="prev">
          타이머 41
        </a></span> <span class="next"><a href="/js/rest.html">
          REST API 44
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.4abe6d66.js" defer></script><script src="/assets/js/11.55256d47.js" defer></script>
  </body>
</html>
