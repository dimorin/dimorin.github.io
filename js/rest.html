<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>REST API 44 | DIMORIN BLOG</title>
    <meta name="description" content="study study">
    
    
    <link rel="preload" href="/assets/css/0.styles.93a325d7.css" as="style"><link rel="preload" href="/assets/js/app.21774a05.js" as="script"><link rel="preload" href="/assets/js/33.0d7c0ab7.js" as="script"><link rel="prefetch" href="/assets/js/10.065a0b71.js"><link rel="prefetch" href="/assets/js/11.d6e1a952.js"><link rel="prefetch" href="/assets/js/12.51bad317.js"><link rel="prefetch" href="/assets/js/13.2a82bfee.js"><link rel="prefetch" href="/assets/js/14.d352c43d.js"><link rel="prefetch" href="/assets/js/15.fee9bcc2.js"><link rel="prefetch" href="/assets/js/16.b22b2298.js"><link rel="prefetch" href="/assets/js/17.fbd9d0e0.js"><link rel="prefetch" href="/assets/js/18.3fafe5dc.js"><link rel="prefetch" href="/assets/js/19.ed57fa01.js"><link rel="prefetch" href="/assets/js/2.7974f97d.js"><link rel="prefetch" href="/assets/js/20.69278cd4.js"><link rel="prefetch" href="/assets/js/21.0fcbf3fa.js"><link rel="prefetch" href="/assets/js/22.ee85e129.js"><link rel="prefetch" href="/assets/js/23.7647c82f.js"><link rel="prefetch" href="/assets/js/24.40823e1b.js"><link rel="prefetch" href="/assets/js/25.f2a30e7a.js"><link rel="prefetch" href="/assets/js/26.9768b699.js"><link rel="prefetch" href="/assets/js/27.08e080fc.js"><link rel="prefetch" href="/assets/js/28.ea1e98ba.js"><link rel="prefetch" href="/assets/js/29.78ed4177.js"><link rel="prefetch" href="/assets/js/3.bfaaf056.js"><link rel="prefetch" href="/assets/js/30.b7084129.js"><link rel="prefetch" href="/assets/js/31.18080573.js"><link rel="prefetch" href="/assets/js/32.a647123b.js"><link rel="prefetch" href="/assets/js/34.08c1d1e9.js"><link rel="prefetch" href="/assets/js/35.9ffca9d4.js"><link rel="prefetch" href="/assets/js/36.5a5abbe9.js"><link rel="prefetch" href="/assets/js/37.3e71c5d7.js"><link rel="prefetch" href="/assets/js/38.ed0a3932.js"><link rel="prefetch" href="/assets/js/39.135c33b9.js"><link rel="prefetch" href="/assets/js/4.c0a93a24.js"><link rel="prefetch" href="/assets/js/40.ad612e0f.js"><link rel="prefetch" href="/assets/js/41.aa2ac29f.js"><link rel="prefetch" href="/assets/js/42.4417b41d.js"><link rel="prefetch" href="/assets/js/43.c9a4aa2a.js"><link rel="prefetch" href="/assets/js/44.b4d2daa7.js"><link rel="prefetch" href="/assets/js/45.eb77977a.js"><link rel="prefetch" href="/assets/js/46.cd83075e.js"><link rel="prefetch" href="/assets/js/47.3658d9ea.js"><link rel="prefetch" href="/assets/js/48.a7a90d32.js"><link rel="prefetch" href="/assets/js/49.71a0158a.js"><link rel="prefetch" href="/assets/js/5.9a667794.js"><link rel="prefetch" href="/assets/js/50.9345f10c.js"><link rel="prefetch" href="/assets/js/51.eea54c39.js"><link rel="prefetch" href="/assets/js/52.aa8e7540.js"><link rel="prefetch" href="/assets/js/53.af96b5ee.js"><link rel="prefetch" href="/assets/js/54.8db3801a.js"><link rel="prefetch" href="/assets/js/55.14ca1901.js"><link rel="prefetch" href="/assets/js/56.53046195.js"><link rel="prefetch" href="/assets/js/57.6e95a315.js"><link rel="prefetch" href="/assets/js/58.06ee18c7.js"><link rel="prefetch" href="/assets/js/59.edcbd6d8.js"><link rel="prefetch" href="/assets/js/6.5871f1c8.js"><link rel="prefetch" href="/assets/js/60.0adc3c0a.js"><link rel="prefetch" href="/assets/js/61.b0efa724.js"><link rel="prefetch" href="/assets/js/62.12bf760e.js"><link rel="prefetch" href="/assets/js/63.139af68c.js"><link rel="prefetch" href="/assets/js/64.a80b99ea.js"><link rel="prefetch" href="/assets/js/65.55f49b32.js"><link rel="prefetch" href="/assets/js/66.69b4aa8f.js"><link rel="prefetch" href="/assets/js/67.bb339506.js"><link rel="prefetch" href="/assets/js/68.b4347251.js"><link rel="prefetch" href="/assets/js/69.c26e02a7.js"><link rel="prefetch" href="/assets/js/7.b77427c7.js"><link rel="prefetch" href="/assets/js/70.c96162ac.js"><link rel="prefetch" href="/assets/js/71.3677a736.js"><link rel="prefetch" href="/assets/js/72.4b6b9d9d.js"><link rel="prefetch" href="/assets/js/73.cefefe6b.js"><link rel="prefetch" href="/assets/js/8.8e43bda8.js"><link rel="prefetch" href="/assets/js/9.68ccfd92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93a325d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">DIMORIN BLOG</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">HOME</a></div><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/staticsite/" class="nav-link">Static Site</a></div><div class="nav-item"><a href="/pwa/" class="nav-link">PWA</a></div><div class="nav-item"><a href="/tool/" class="nav-link">프론트엔드개발툴</a></div><div class="nav-item"><a href="/python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/webgl/" class="nav-link">WebGL</a></div><div class="nav-item"><a href="/dv/" class="nav-link">데이터시각화</a></div><div class="nav-item"><a href="/about.html" class="nav-link">ABOUT</a></div><div class="nav-item"><a href="/deskg.html" class="nav-link">DESK.G</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/js/" class="sidebar-link">ECMAScript6</a></li><li><a href="/js/let.html" class="sidebar-link">let, const와 블록 레벨 스코프</a></li><li><a href="/js/templateliteral.html" class="sidebar-link">템플릿 리터럴</a></li><li><a href="/js/arrow.html" class="sidebar-link">화살표 함수</a></li><li><a href="/js/parameter.html" class="sidebar-link">파라미터 기본값, Rest 파라미터, Spread 연산자, Rest/Spread 프로퍼티</a></li><li><a href="/js/enhancedobjectliteral.html" class="sidebar-link">객체 리터럴 프로퍼티 기능 확장</a></li><li><a href="/js/destructuring.html" class="sidebar-link">디스트럭처링</a></li><li><a href="/js/class.html" class="sidebar-link">클래스</a></li><li><a href="/js/module.html" class="sidebar-link">모듈</a></li><li><a href="/js/promise.html" class="sidebar-link">프로미스</a></li><li><a href="/js/symbol.html" class="sidebar-link">7번째 타입 심볼(Symbol)</a></li><li><a href="/js/forofloop.html" class="sidebar-link">이터레이션과 for...of 문</a></li><li><a href="/js/generator.html" class="sidebar-link">제너레이터</a></li><li><a href="/js/namespace.html" class="sidebar-link">namespace, class, design pattern</a></li><li><a href="/js/property.html" class="sidebar-link">프로퍼티 어트리뷰트 16</a></li><li><a href="/js/firstclassobject.html" class="sidebar-link">함수와 일급 객체 18</a></li><li><a href="/js/prototype.html" class="sidebar-link">프로토타입 19</a></li><li><a href="/js/this.html" class="sidebar-link">this 22</a></li><li><a href="/js/closure.html" class="sidebar-link">클로저 24</a></li><li><a href="/js/array.html" class="sidebar-link">배열 27</a></li><li><a href="/js/regexp.html" class="sidebar-link">RegExp 31</a></li><li><a href="/js/string.html" class="sidebar-link">String 32</a></li><li><a href="/js/spread.html" class="sidebar-link">스프레드 문법 35</a></li><li><a href="/js/dom.html" class="sidebar-link">DOM 39</a></li><li><a href="/js/event.html" class="sidebar-link">이벤트 40</a></li><li><a href="/js/timer.html" class="sidebar-link">타이머 41</a></li><li><a href="/js/ajax.html" class="sidebar-link">Ajax 43</a></li><li><a href="/js/rest.html" class="active sidebar-link">REST API 44</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js/rest.html#rest-api의-구성" class="sidebar-link">REST API의 구성</a></li><li class="sidebar-sub-header"><a href="/js/rest.html#rest-api-설계-원칙" class="sidebar-link">REST API 설계 원칙</a></li><li class="sidebar-sub-header"><a href="/js/rest.html#json-server를-이용한-rest-api-실습" class="sidebar-link">JSON Server를 이용한 REST API 실습</a></li></ul></li><li><a href="/js/error.html" class="sidebar-link">에러 처리 47</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="rest-api-44"><a href="#rest-api-44" aria-hidden="true" class="header-anchor">#</a> REST API 44</h1> <p>REST 는 <strong>HTTP를 기반</strong>으로 <strong>클라이언트가 서버의 리소스에 접근</strong>하는 방식을 규정한 <strong>아키텍처</strong>이고,<br>
REST API는 REST를 기반으로 서비스 API를 구현한 것을 의미한다.<br>
REST의 기본 원칙을 성실히 지킨 서비스 디자인을 &quot;RESTful&quot;이라고 표현한다.</p> <h2 id="rest-api의-구성"><a href="#rest-api의-구성" aria-hidden="true" class="header-anchor">#</a> REST API의 구성</h2> <p>REST API는 자원, 행위, 표현의 3가지 요소로 구성된다.<br>
REST는 자체 표현 구조로 구성되어 REST API만으로 HTTP 요청의 내용을 이해할 수 있다.</p> <table><thead><tr><th>구성 요소</th> <th>내용</th> <th>표현 방법</th></tr></thead> <tbody><tr><td>자원</td> <td>자원</td> <td>URI(엔드포인트)</td></tr> <tr><td>행위</td> <td>자원에 대한 행위</td> <td>HTTP 요청 메서드</td></tr> <tr><td>표현</td> <td>자원에 대한 행위의 구체적 내용</td> <td>페이로드</td></tr></tbody></table> <h2 id="rest-api-설계-원칙"><a href="#rest-api-설계-원칙" aria-hidden="true" class="header-anchor">#</a> REST API 설계 원칙</h2> <p>REST에서 가장 중요한 기본적인 원칙은 두 가지다.<br></p> <ol><li><strong>URI는 리소스를 표현</strong>하는 데 집중하고</li> <li><strong>행위에 대한 정의는 HTTP 요청 메서드</strong>를 통해 한다.</li></ol> <table><thead><tr><th>HTTP 요청 메서드</th> <th>종류</th> <th>목적</th> <th>페이로드</th></tr></thead> <tbody><tr><td>GET</td> <td>index/retrieve</td> <td>모든/특정 리소스 취득</td> <td>X</td></tr> <tr><td>POST</td> <td>create</td> <td>리소스 생성</td> <td>O</td></tr> <tr><td>PUT</td> <td>replace</td> <td>리소스 전체 교체</td> <td>O</td></tr> <tr><td>PATCH</td> <td>modify</td> <td>리소스 일부 수정</td> <td>O</td></tr> <tr><td>DELETE</td> <td>delete</td> <td>모든/특정 리소스 삭제</td> <td>X</td></tr></tbody></table> <h2 id="json-server를-이용한-rest-api-실습"><a href="#json-server를-이용한-rest-api-실습" aria-hidden="true" class="header-anchor">#</a> JSON Server를 이용한 REST API 실습</h2> <p>HTTP 요청을 전송하고 응답을 받으려면 서버가 필요하다.<br>
JSON Server를 사용해 가상 REST API 서버를 구축하여 HTTP 요청을 전송하고 응답을 받는 실습을 진행해보자.</p> <h3 id="json-server-설치"><a href="#json-server-설치" aria-hidden="true" class="header-anchor">#</a> JSON Server 설치</h3> <p>터미널에서 다음과 같이 JSON Server를 설치한다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">mkdir</span> json-server-exam <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> json-server-exam
$ <span class="token function">npm</span> init -y
$ <span class="token function">npm</span> <span class="token function">install</span> json-server --save-dev
</code></pre></div><h3 id="db-json-파일-생성"><a href="#db-json-파일-생성" aria-hidden="true" class="header-anchor">#</a> db.json 파일 생성</h3> <p>프로젝트 루트 폴더(/json-server-exam)에 다음과 같이 db.json 파일을 생성한다.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;todos&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;HTML&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;completed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;CSS&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;completed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;content&quot;</span><span class="token operator">:</span><span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;completed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="json-server-실행"><a href="#json-server-실행" aria-hidden="true" class="header-anchor">#</a> JSON Server 실행</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## 기본 포트(3000) 사용 / watch 옵션 적용</span>
$ json-server --watch db.json
</code></pre></div><p>기본 포트는 3000이다. 포트를 변경하려면 port 옵션을 추가한다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## 포트 변경 / watch 옵션 적용</span>
$ json-server --watch db.json --port 5000
</code></pre></div><p>위와 같이 매번 명령어를 입력하는 것이 번거로우니 package.json 파일의 script를 다음과 같이 수정하여 JSON Server를 실행하여 보자.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;json-server-exam&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;start&quot;</span><span class="token operator">:</span><span class="token string">&quot;json-server --watch db.json&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;json-server&quot;</span><span class="token operator">:</span><span class="token string">&quot;^0.16.1&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>터미널에서 npm start 명령어를 입력하여 JSON Server를 실행한다.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> start
</code></pre></div><h3 id="get-요청"><a href="#get-요청" aria-hidden="true" class="header-anchor">#</a> GET 요청</h3> <p>todos 리소스에서 모든 todo를 취득(index)한다.<br>
JSON Server의 루트 폴더(/json-server-exam)에 public 폴더를 생성하고 JSON Server를 중단한 후 재실행한다.<br>
public 폴더에 get.html을 추가하고 브라우저에서 http://localhost:3000/get.html 로 접속한다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> <span class="token string">'/todos'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="post-요청"><a href="#post-요청" aria-hidden="true" class="header-anchor">#</a> POST 요청</h3> <p>todos 리소스에 새로운 todo를 생성한다.<br>
POST 요청 시에는 setRequestHeader 메서드를 사용하여 요청 몸체에 담아 서버로 전송할 페이로드의 MIME 타입을 지정해야 한다.<br>
public 폴더에 post.html을 추가하고 브라우저에서 http://localhost:3000/post.html 로 접속한다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'/todos'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span><span class="token string">'Vue'</span><span class="token punctuation">,</span>completed<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 200(OK), 201(Created)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span> <span class="token operator">||</span> xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="put-요청"><a href="#put-요청" aria-hidden="true" class="header-anchor">#</a> PUT 요청</h3> <p>PUT은 특정 리소스 전체를 교체할 때 사용한다.<br>
PUT 요청 시에는 setRequestHeader 메서드를 사용하여 요청 몸체에 담아 서버로 전송할 페이로드의 MIME 타입을 지정해야 한다.<br>
public 폴더에 put.html을 추가하고 브라우저에서 http://localhost:3000/put.html 로 접속한다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> <span class="token string">'/todos/4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span><span class="token string">'React'</span><span class="token punctuation">,</span>completed<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="patch-요청"><a href="#patch-요청" aria-hidden="true" class="header-anchor">#</a> PATCH 요청</h3> <p>PATCH는 특정 리소스의 일부를 수정할 때 사용한다.<br>
PATCH 요청 시에는 setRequestHeader 메서드를 사용하여 요청 몸체에 담아 서버로 전송할 페이로드의 MIME 타입을 지정해야 한다.<br>
public 폴더에 patch.html을 추가하고 브라우저에서 http://localhost:3000/patch.html 로 접속한다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'PATCH'</span><span class="token punctuation">,</span> <span class="token string">'/todos/4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span> <span class="token string">'application/json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>completed<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="delete-요청"><a href="#delete-요청" aria-hidden="true" class="header-anchor">#</a> DELETE 요청</h3> <p>todos 리소스에서 id를 사용하여 todo를 삭제한다.<br>
public 폴더에 delete.html을 추가하고 브라우저에서 http://localhost:3000/delete.html 로 접속한다.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
        <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> <span class="token string">'/todos/4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'pre'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> xhr<span class="token punctuation">.</span>response<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p><a href="https://github.com/egoing/rest-api-lab" target="_blank" rel="noopener noreferrer">웹브라우저에서 웹서버에 ajax를 위한 api인 fetch를 이용해서 REST API를 이용하는 방법<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <br> <a href="https://youtu.be/PmY3dWcCxXI" target="_blank" rel="noopener noreferrer">기계들의 대화법 - REST API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <br> <a href="https://opentutorials.org/module/3621" target="_blank" rel="noopener noreferrer">WEB2 - HTTP<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://opentutorials.org/course/3281" target="_blank" rel="noopener noreferrer">Ajax - fetch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/js/ajax.html" class="prev">
          Ajax 43
        </a></span> <span class="next"><a href="/js/error.html">
          에러 처리 47
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.21774a05.js" defer></script><script src="/assets/js/33.0d7c0ab7.js" defer></script>
  </body>
</html>
